
include:
  - local: /.gitlab/ci/builders.yml

test:rust:unit_tests:
  stage: test
  extends:
    - .builder:linux:x86_64-unknown-linux-gnu
  needs: []
  dependencies: []
  script:
    - cargo test --locked --verbose

# test:melodium:general:
#   stage: test
#   extends: 
#     - .debian-host
#     - .cargo-cache
#   needs:
#     - build:debug:x86_64-unknown-linux-gnu
#   dependencies: 
#     - build:debug:x86_64-unknown-linux-gnu
#   before_script:
#     - apt-get update
#     - apt-get install -y libasound2
#   script:
#     - PATH="${PWD}/target/x86_64-unknown-linux-gnu/debug:${PATH}" melodium-tests/run.sh
